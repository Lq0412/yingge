# 5 天开发与文档计划（更新版，准备开展前端）

> 目标：完成在线试衣 MVP。当前后端链路已跑通，已上线服装模板接口，明天开始前端开发与联调。

## 当前进展（截至第 3 天前夕）
- 后端：注册/登录 + Session；上传 `/api/storage/upload`；异步试穿提交/查询；结果写入 COS；记录列表；服装模板 CRUD/推荐/批量导入接口完成，`cloth_template` 表已加。
- 文档：Prompt Template 计划已更新；PRD/MVP 已初版；存在的乱码逐步清理中。
- 待做：前端页面与接口对接、缓存与错误提示补全。

## 第 3 天：前端基础与接口接入
- 任务 1：搭建前端基础（Vue/Vite 已有），实现页面骨架：登录、上传人像、选择服装模板（列表/推荐）、提交试穿、结果/记录展示。
- 任务 2：对接接口：登录 -> 上传 -> 提交 `/api/tasks/tryon` -> 轮询/查询 -> 展示结果。模板列表使用 `/api/cloth/templates`，推荐用 `/api/cloth/recommend`。
- 任务 3：自定义入口：允许上传自定义服装图；保留 prompt 开关（默认关闭，开启后可编辑）。

## 第 4 天：前端完善与体验
- 任务 1：模板推荐与过滤：分类/风格/搜索；推荐区块优先展示 sort/hot 前 N。
- 任务 2：错误与状态提示：上传失败、提交失败、生成超时、轮询失败的提示与重试；loading/禁用按钮处理。
- 任务 3：样式与交互细节：卡片态、空状态、移动端适配；默认负面词/强度/比例透传确认。

## 第 5 天：全链路测试与文档/交付
- 任务 1：全链路回归与异常路径（上传失败/生成失败/超时）验证；记录成功率。
- 任务 2：文档更新：Swagger/Knife4j 示例、README/配置示例、Prompt/模板使用说明。
- 任务 3：准备演示材料：操作录屏、架构/流程图；整理 problems.md 中的问题与解决方案。

## 依赖与风险
- 确认 MySQL/COS/Ark SDK 配置可用；服装模板图片质量（分辨率/遮挡）会影响效果。
- 缓存尚未接入（模板列表/推荐可加 5-10 分钟缓存，写操作需失效）；敏感词与安全校验仍待补充。
